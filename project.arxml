<?xml version="1.0" encoding="UTF-8"?>
<AUTOSAR xmlns="http://autosar.org/schema/r4.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://autosar.org/schema/r4.0 AUTOSAR_00044.xsd">
	<AR-PACKAGES>
  <!-- 1. Define Data Types -->
  <AR-PACKAGE>
   <SHORT-NAME>MyDataTypes</SHORT-NAME>
   <ELEMENTS>
    <!-- ========================= Base Data Type ========================= -->
    <SW-BASE-TYPE>
     <SHORT-NAME>uint8</SHORT-NAME>
     <CATEGORY>FIXED_LENGTH</CATEGORY>
     <MAX-BASE-TYPE-SIZE>8</MAX-BASE-TYPE-SIZE>
     <BASE-TYPE-ENCODING>NONE</BASE-TYPE-ENCODING>
     <MEM-ALIGNMENT>1</MEM-ALIGNMENT>
     <NATIVE-DECLARATION>unsigned char</NATIVE-DECLARATION>
    </SW-BASE-TYPE>
    <!-- ========================= Implementation Data Type ========================= -->
    <!-- 1. Define Data Constrains -->
    <DATA-CONSTR>
     <SHORT-NAME>DataConstr_uint8</SHORT-NAME>
     <DATA-CONSTR-RULES>
      <DATA-CONSTR-RULE>
       <PHYS-CONSTRS>
        <LOWER-LIMIT>0</LOWER-LIMIT>
        <UPPER-LIMIT>255</UPPER-LIMIT>
       </PHYS-CONSTRS>
       <INTERNAL-CONSTRS>
        <LOWER-LIMIT>0</LOWER-LIMIT>
        <UPPER-LIMIT>255</UPPER-LIMIT>
       </INTERNAL-CONSTRS>
      </DATA-CONSTR-RULE>
     </DATA-CONSTR-RULES>
    </DATA-CONSTR>
    <!-- 2. Define Implementation Type -->
    <IMPLEMENTATION-DATA-TYPE>
     <SHORT-NAME>My_uint8</SHORT-NAME>
     <CATEGORY>VALUE</CATEGORY>
     <SW-DATA-DEF-PROPS>
      <SW-DATA-DEF-PROPS-VARIANTS>
       <SW-DATA-DEF-PROPS-CONDITIONAL>
        <BASE-TYPE-REF DEST="SW-BASE-TYPE">/MyDataTypes/uint8</BASE-TYPE-REF>
        <DATA-CONSTR-REF DEST="DATA-CONSTR">/MyDataTypes/DataConstr_uint8</DATA-CONSTR-REF>
       </SW-DATA-DEF-PROPS-CONDITIONAL>
      </SW-DATA-DEF-PROPS-VARIANTS>
     </SW-DATA-DEF-PROPS>
    </IMPLEMENTATION-DATA-TYPE>
   </ELEMENTS>
  </AR-PACKAGE>
  <!-- 2. Define Interfaces -->
  <AR-PACKAGE>
   <SHORT-NAME>INTERFACES</SHORT-NAME>
   <!-- 1. Define Sender Receiver Interface for Door State information -->
   <ELEMENTS>
    <SENDER-RECEIVER-INTERFACE>
     <SHORT-NAME>SR_DoorLock</SHORT-NAME>
     <DATA-ELEMENTS>
      <VARIABLE-DATA-PROTOTYPE>
       <SHORT-NAME>DoorState</SHORT-NAME>
       <TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/MyDataTypes/My_uint8</TYPE-TREF>
      </VARIABLE-DATA-PROTOTYPE>
     </DATA-ELEMENTS>
    </SENDER-RECEIVER-INTERFACE>
    <!-- 2. Define Client Server Interface for Led Switching operation -->
    <CLIENT-SERVER-INTERFACE>
     <SHORT-NAME>CS_LedSwitch</SHORT-NAME>
     <OPERATIONS>
      <CLIENT-SERVER-OPERATION>
       <SHORT-NAME>LedSwitch</SHORT-NAME>
       <ARGUMENTS>
        <ARGUMENT-DATA-PROTOTYPE>
         <SHORT-NAME>LedState</SHORT-NAME>
         <TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/MyDataTypes/My_uint8</TYPE-TREF>
         <DIRECTION>IN</DIRECTION>
        </ARGUMENT-DATA-PROTOTYPE>
       </ARGUMENTS>
       <POSSIBLE-ERROR-REFS>
        <POSSIBLE-ERROR-REF DEST="APPLICATION-ERROR">/INTERFACES/CS_LedSwitch/E_OK</POSSIBLE-ERROR-REF>
        <POSSIBLE-ERROR-REF DEST="APPLICATION-ERROR">/INTERFACES/CS_LedSwitch/E_NOT_OK</POSSIBLE-ERROR-REF>
       </POSSIBLE-ERROR-REFS>
      </CLIENT-SERVER-OPERATION>
     </OPERATIONS>
     <POSSIBLE-ERRORS>
      <APPLICATION-ERROR>
       <SHORT-NAME>E_OK</SHORT-NAME>
       <ERROR-CODE>0</ERROR-CODE>
      </APPLICATION-ERROR>
      <APPLICATION-ERROR>
       <SHORT-NAME>E_NOT_OK</SHORT-NAME>
       <ERROR-CODE>1</ERROR-CODE>
      </APPLICATION-ERROR>
     </POSSIBLE-ERRORS>
    </CLIENT-SERVER-INTERFACE>
   </ELEMENTS>
  </AR-PACKAGE>
  <!-- 3. Define Application Software Components -->
  <AR-PACKAGE>
   <SHORT-NAME>SWCs</SHORT-NAME>
   <ELEMENTS>
    <!-- 1. Define ECU-SWC for I/O ( Door Sensor - Led Switch ) operations  -->
    <ECU-ABSTRACTION-SW-COMPONENT-TYPE>
     <SHORT-NAME>SWC_DoorSensor_LedActuator_Abs</SHORT-NAME>
     <PORTS>
      <P-PORT-PROTOTYPE>
       <SHORT-NAME>PP_SR_DoorLock</SHORT-NAME>
       <PROVIDED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/INTERFACES/SR_DoorLock</PROVIDED-INTERFACE-TREF>
      </P-PORT-PROTOTYPE>
      <P-PORT-PROTOTYPE>
       <SHORT-NAME>PP_CS_LedSwitch</SHORT-NAME>
       <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">/INTERFACES/CS_LedSwitch</PROVIDED-INTERFACE-TREF>
      </P-PORT-PROTOTYPE>
     </PORTS>
     <INTERNAL-BEHAVIORS>
      <SWC-INTERNAL-BEHAVIOR>
       <SHORT-NAME>IB_SWC_DoorSensor_LedActuator_Abs</SHORT-NAME>
       <EVENTS>
        <TIMING-EVENT>
         <SHORT-NAME>TE_10ms</SHORT-NAME>
         <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/SWCs/SWC_DoorSensor_LedActuator_Abs/IB_SWC_DoorSensor_LedActuator_Abs/Read_DoorSensor</START-ON-EVENT-REF>
         <PERIOD>0.01</PERIOD>
        </TIMING-EVENT>
        <OPERATION-INVOKED-EVENT>
         <SHORT-NAME>OIE_LedSwitch</SHORT-NAME>
         <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/SWCs/SWC_DoorSensor_LedActuator_Abs/IB_SWC_DoorSensor_LedActuator_Abs/Set_LedSwitch</START-ON-EVENT-REF>
         <OPERATION-IREF>
          <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/SWCs/SWC_DoorSensor_LedActuator_Abs/PP_CS_LedSwitch</CONTEXT-P-PORT-REF>
          <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/INTERFACES/CS_LedSwitch/LedSwitch</TARGET-PROVIDED-OPERATION-REF>
         </OPERATION-IREF>
        </OPERATION-INVOKED-EVENT>
       </EVENTS>
       <RUNNABLES>
        <RUNNABLE-ENTITY>
         <SHORT-NAME>Read_DoorSensor</SHORT-NAME>
         <MINIMUM-START-INTERVAL>0.0</MINIMUM-START-INTERVAL>
         <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
         <DATA-WRITE-ACCESSS>
          <VARIABLE-ACCESS>
           <SHORT-NAME>DoorState_DataWrite</SHORT-NAME>
           <ACCESSED-VARIABLE>
            <AUTOSAR-VARIABLE-IREF>
             <PORT-PROTOTYPE-REF DEST="P-PORT-PROTOTYPE">/SWCs/SWC_DoorSensor_LedActuator_Abs/PP_SR_DoorLock</PORT-PROTOTYPE-REF>
             <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/INTERFACES/SR_DoorLock/DoorState</TARGET-DATA-PROTOTYPE-REF>
            </AUTOSAR-VARIABLE-IREF>
           </ACCESSED-VARIABLE>
          </VARIABLE-ACCESS>
         </DATA-WRITE-ACCESSS>
         <SYMBOL>Read_DoorSensor_Runnable</SYMBOL>
        </RUNNABLE-ENTITY>
        <RUNNABLE-ENTITY>
         <SHORT-NAME>Set_LedSwitch</SHORT-NAME>
         <MINIMUM-START-INTERVAL>0.0</MINIMUM-START-INTERVAL>
         <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
         <SYMBOL>Set_LedSwitch_Runnable</SYMBOL>
        </RUNNABLE-ENTITY>
       </RUNNABLES>
      </SWC-INTERNAL-BEHAVIOR>
     </INTERNAL-BEHAVIORS>
    </ECU-ABSTRACTION-SW-COMPONENT-TYPE>
    <!-- 2. Define APP-SWC for Algo operations  -->
    <APPLICATION-SW-COMPONENT-TYPE>
     <SHORT-NAME>SWC_DoorLock_Indication</SHORT-NAME>
     <PORTS>
      <R-PORT-PROTOTYPE>
       <SHORT-NAME>RP_SR_DoorLock</SHORT-NAME>
       <REQUIRED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/INTERFACES/SR_DoorLock</REQUIRED-INTERFACE-TREF>
      </R-PORT-PROTOTYPE>
      <R-PORT-PROTOTYPE>
       <SHORT-NAME>RP_CS_LedSwitch</SHORT-NAME>
       <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">/INTERFACES/CS_LedSwitch</REQUIRED-INTERFACE-TREF>
      </R-PORT-PROTOTYPE>
     </PORTS>
     <INTERNAL-BEHAVIORS>
      <SWC-INTERNAL-BEHAVIOR>
       <SHORT-NAME>IB_SWC_DoorLock_Indication</SHORT-NAME>
       <EVENTS>
        <TIMING-EVENT>
         <SHORT-NAME>TE_12ms</SHORT-NAME>
         <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/SWCs/SWC_DoorLock_Indication/IB_SWC_DoorLock_Indication/DoorLock_Indication_Algo</START-ON-EVENT-REF>
         <PERIOD>0.012</PERIOD>
        </TIMING-EVENT>
       </EVENTS>
       <RUNNABLES>
        <RUNNABLE-ENTITY>
         <SHORT-NAME>DoorLock_Indication_Algo</SHORT-NAME>
         <MINIMUM-START-INTERVAL>0.0</MINIMUM-START-INTERVAL>
         <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
         <DATA-READ-ACCESSS>
          <VARIABLE-ACCESS>
           <SHORT-NAME>DoorState_DataRead</SHORT-NAME>
           <ACCESSED-VARIABLE>
            <AUTOSAR-VARIABLE-IREF>
             <PORT-PROTOTYPE-REF DEST="R-PORT-PROTOTYPE">/SWCs/SWC_DoorLock_Indication/RP_SR_DoorLock</PORT-PROTOTYPE-REF>
             <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/INTERFACES/SR_DoorLock/DoorState</TARGET-DATA-PROTOTYPE-REF>
            </AUTOSAR-VARIABLE-IREF>
           </ACCESSED-VARIABLE>
          </VARIABLE-ACCESS>
         </DATA-READ-ACCESSS>
         <SERVER-CALL-POINTS>
          <SYNCHRONOUS-SERVER-CALL-POINT>
           <SHORT-NAME>Sync_ServerCall</SHORT-NAME>
           <OPERATION-IREF>
            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/SWCs/SWC_DoorLock_Indication/RP_CS_LedSwitch</CONTEXT-R-PORT-REF>
            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/INTERFACES/CS_LedSwitch/LedSwitch</TARGET-REQUIRED-OPERATION-REF>
           </OPERATION-IREF>
          </SYNCHRONOUS-SERVER-CALL-POINT>
         </SERVER-CALL-POINTS>
         <SYMBOL>DoorLock_Indication_Algo_Runnable</SYMBOL>
        </RUNNABLE-ENTITY>
       </RUNNABLES>
      </SWC-INTERNAL-BEHAVIOR>
     </INTERNAL-BEHAVIORS>
    </APPLICATION-SW-COMPONENT-TYPE>
   </ELEMENTS>
  </AR-PACKAGE>
  <!-- 4. Define Composittion Software Components -->
  <AR-PACKAGE>
   <SHORT-NAME>COMPOSITIONs</SHORT-NAME>
   <ELEMENTS>
    <COMPOSITION-SW-COMPONENT-TYPE>
     <SHORT-NAME>SWC_Composite_DoorLock_Indication</SHORT-NAME>
     <COMPONENTS>
      <SW-COMPONENT-PROTOTYPE>
       <SHORT-NAME>SWC1_EcuAbs_Type</SHORT-NAME>
       <TYPE-TREF DEST="ECU-ABSTRACTION-SW-COMPONENT-TYPE">/SWCs/SWC_DoorSensor_LedActuator_Abs</TYPE-TREF>
      </SW-COMPONENT-PROTOTYPE>
      <SW-COMPONENT-PROTOTYPE>
       <SHORT-NAME>SWC2_APP_Type</SHORT-NAME>
       <TYPE-TREF DEST="APPLICATION-SW-COMPONENT-TYPE">/SWCs/SWC_DoorLock_Indication</TYPE-TREF>
      </SW-COMPONENT-PROTOTYPE>      
     </COMPONENTS>
     <CONNECTORS>
      <ASSEMBLY-SW-CONNECTOR>
       <SHORT-NAME>AS_SR_DoorLock</SHORT-NAME>
       <PROVIDER-IREF>
        <CONTEXT-COMPONENT-REF DEST="SW-COMPONENT-PROTOTYPE">/COMPOSITIONs/SWC_Composite_DoorLock_Indication/SWC1_EcuAbs_Type</CONTEXT-COMPONENT-REF>
        <TARGET-P-PORT-REF DEST="P-PORT-PROTOTYPE">/SWCs/SWC_DoorSensor_LedActuator_Abs/PP_SR_DoorLock</TARGET-P-PORT-REF>
       </PROVIDER-IREF>
       <REQUESTER-IREF>
        <CONTEXT-COMPONENT-REF DEST="SW-COMPONENT-PROTOTYPE">/COMPOSITIONs/SWC_Composite_DoorLock_Indication/SWC2_APP_Type</CONTEXT-COMPONENT-REF>
        <TARGET-R-PORT-REF DEST="R-PORT-PROTOTYPE">/SWCs/SWC_DoorLock_Indication/RP_SR_DoorLock</TARGET-R-PORT-REF>
       </REQUESTER-IREF>       
      </ASSEMBLY-SW-CONNECTOR>
      <ASSEMBLY-SW-CONNECTOR>
       <SHORT-NAME>AS_CS_LedSwitch</SHORT-NAME>
       <PROVIDER-IREF>
        <CONTEXT-COMPONENT-REF DEST="SW-COMPONENT-PROTOTYPE">/COMPOSITIONs/SWC_Composite_DoorLock_Indication/SWC1_EcuAbs_Type</CONTEXT-COMPONENT-REF>
        <TARGET-P-PORT-REF DEST="P-PORT-PROTOTYPE">/SWCs/SWC_DoorSensor_LedActuator_Abs/PP_CS_LedSwitch</TARGET-P-PORT-REF>
       </PROVIDER-IREF>
       <REQUESTER-IREF>
        <CONTEXT-COMPONENT-REF DEST="SW-COMPONENT-PROTOTYPE">/COMPOSITIONs/SWC_Composite_DoorLock_Indication/SWC2_APP_Type</CONTEXT-COMPONENT-REF>
        <TARGET-R-PORT-REF DEST="R-PORT-PROTOTYPE">/SWCs/SWC_DoorLock_Indication/RP_CS_LedSwitch</TARGET-R-PORT-REF>
       </REQUESTER-IREF>       
      </ASSEMBLY-SW-CONNECTOR>      
     </CONNECTORS>
    </COMPOSITION-SW-COMPONENT-TYPE>
   </ELEMENTS>
  </AR-PACKAGE>
	</AR-PACKAGES>
</AUTOSAR>